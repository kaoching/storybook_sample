"use strict";

var _tsDedent = _interopRequireDefault(require("ts-dedent"));

var _transformJsdom = require("./transformJsdom");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// @ts-ignore
expect.addSnapshotSerializer({
  print: val => val,
  test: val => true
});
describe('transformJsdom', () => {
  it('basic', () => {
    expect((0, _transformJsdom.transformJsdom)((0, _tsDedent.default)`
        export default { title: 'foo/bar' };
        export const A = () => {};
      `)).toMatchInlineSnapshot(`
      import { render, screen } from "@testing-library/react";
      import { composeStory } from "@storybook/testing-react";
      export default { title: 'foo/bar' };
      export const A = () => {};

      if (!require.main) {
        describe("foo/bar", () => {
        describe("A", () => {
          it("smoke-test", async () => {
            const Composed = await composeStory(A, exports.default);
            const {
              container
            } = render(<Composed />);

            if (Composed.play) {
              await Composed.play({
                canvasElement: container
              });
            }
          });
        });
      });
      }
    `);
  });
});